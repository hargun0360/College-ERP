{"ast":null,"code":"import _objectSpread from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState}from'react';import SubmitButton from'../../../Components/UI/Button/Button';import{useForm}from'react-hook-form';import'./AdminDetailForm.css';import DateTimeBox from'../Annoucement/DateTimeBox';import'react-datepicker/dist/react-datepicker.css';import*as actionCreators from\"../../../Service/Action/action\";import{useDispatch,useSelector}from'react-redux';import Spinner from'../../../Components/UI/Spinner/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminAnnoucementForm=function AdminAnnoucementForm(props){var _errors$Announcement,_errors$aopt;var _useForm=useForm({mode:\"onTouched\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors,reset=_useForm.reset;var edit=useSelector(function(state){return state.editAnnoucement;});var dispatch=useDispatch();var today=new Date();var dd=today.getDate();var mm=today.getMonth()+1;var yyyy=today.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;}today=yyyy+'-'+mm+'-'+dd;var formatAMPM=function formatAMPM(time){var hours=time.getHours();var minutes=time.getMinutes();var ampm=hours>=12?'PM':'AM';hours=hours%12;hours=hours?hours:12;minutes=minutes<10?'0'+minutes:minutes;var strTime=hours+':'+minutes+' '+ampm;return strTime;};var onSubmit=function onSubmit(data,e){e.preventDefault();var obj={date:today,time:formatAMPM(new Date()),announcement:data.Announcement,annfor:data.aopt};console.log(obj);dispatch(actionCreators.addAnnoucementDetails(obj));reset();};var handleClick=function handleClick(e){e.preventDefault();props.setTrigger(false);};return props.trigger?/*#__PURE__*/_jsx(\"div\",{className:\"Modal-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Admin-Form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Admin-Form-Heading\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Announcement Details\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"Admin-Input\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(DateTimeBox,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"combine-input\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Label-form\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Announcement\",children:\"Announcement\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Input-detail\",children:/*#__PURE__*/_jsx(\"textarea\",_objectSpread({className:\"input-field-form\",cols:40,rows:5,type:\"text\",name:\"Announcement\"},register(\"Announcement\",{required:\"**Announcement field is required\"})))}),/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:(_errors$Announcement=errors.Announcement)===null||_errors$Announcement===void 0?void 0:_errors$Announcement.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"annoucement-opt\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"faculty-radio\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label-data\",htmlFor:\"field-Faculty\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"aopt\",{required:\"**This field is required\"})),{},{type:\"radio\",name:\"aopt\",value:\"Faculty\",id:\"field-Faculty\"})),\"Faculty\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"student-radio\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label-data\",htmlFor:\"field-Student\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"aopt\",{required:\"**This field is required\"})),{},{type:\"radio\",name:\"aopt\",value:\"Student\",id:\"field-Student\"})),\"Student\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"both-radio\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"label-data\",htmlFor:\"field-Both\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"aopt\",{required:\"**This field is required\"})),{},{type:\"radio\",name:\"aopt\",value:\"Both\",id:\"field-Both\"})),\"Both\"]})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:(_errors$aopt=errors.aopt)===null||_errors$aopt===void 0?void 0:_errors$aopt.message}),/*#__PURE__*/_jsx(\"div\",{className:\"Button-update\",children:/*#__PURE__*/_jsx(SubmitButton,{className:\"Admin-Update\",Label:\"Post\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cross1\",children:/*#__PURE__*/_jsx(\"i\",{id:\"crossed\",className:\"fa fa-times\",onClick:handleClick})})]})}):null;};export default AdminAnnoucementForm;","map":{"version":3,"sources":["E:/College-ERP/src/Pages/Dashboard/Admin/AdminAnnoucement.js"],"names":["React","useEffect","useState","SubmitButton","useForm","DateTimeBox","actionCreators","useDispatch","useSelector","Spinner","AdminAnnoucementForm","props","mode","register","handleSubmit","errors","formState","reset","edit","state","editAnnoucement","dispatch","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","formatAMPM","time","hours","getHours","minutes","getMinutes","ampm","strTime","onSubmit","data","e","preventDefault","obj","date","announcement","Announcement","annfor","aopt","console","log","addAnnoucementDetails","handleClick","setTrigger","trigger","required","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport SubmitButton from '../../../Components/UI/Button/Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport './AdminDetailForm.css'\r\nimport DateTimeBox from '../Annoucement/DateTimeBox'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport * as actionCreators from \"../../../Service/Action/action\";\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport Spinner from '../../../Components/UI/Spinner/Spinner';\r\nconst AdminAnnoucementForm = (props) => {\r\n    const { register, handleSubmit, formState: { errors }, reset } = useForm({\r\n        mode: \"onTouched\"\r\n    });\r\n    const edit = useSelector((state)=>state.editAnnoucement);\r\n    const dispatch = useDispatch();\r\n    let today=new Date()\r\n    var dd = today.getDate();\r\n    var mm = today.getMonth() + 1;\r\n    var yyyy = today.getFullYear();\r\n    if (dd < 10) {\r\n        dd = '0' + dd;\r\n    }\r\n    if (mm < 10) {\r\n        mm = '0' + mm;\r\n    }\r\n    today = yyyy + '-' + mm + '-' + dd;\r\n    const formatAMPM = (time) => {\r\n        var hours = time.getHours();\r\n        var minutes = time.getMinutes();\r\n        var ampm = hours >= 12 ? 'PM' : 'AM';\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12; \r\n        minutes = minutes < 10 ? '0' + minutes : minutes;\r\n        var strTime = hours + ':' + minutes + ' ' + ampm;\r\n        return strTime;\r\n    }\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault();\r\n        const obj={\r\n            date: today,\r\n            time: formatAMPM(new Date),\r\n            announcement:data.Announcement,\r\n            annfor:data.aopt,\r\n        }\r\n        console.log(obj);\r\n        dispatch(actionCreators.addAnnoucementDetails(obj));\r\n        reset();\r\n    }\r\n    \r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        props.setTrigger(false);\r\n    }\r\n    return (props.trigger) ? (\r\n        <div className='Modal-box'>\r\n            <div className='Admin-Form'>\r\n                <div className='Admin-Form-Heading'>\r\n                    <h2>Announcement Details</h2>\r\n                </div>\r\n                <div>\r\n                    <form className='Admin-Input' onSubmit={handleSubmit(onSubmit)}>\r\n                        <DateTimeBox />\r\n                        <div className='combine-input'>\r\n                            <div className='Label-form'>\r\n                                <label htmlFor=\"Announcement\">\r\n                                    Announcement\r\n                                </label>\r\n                            </div>\r\n                            <div className='Input-detail'>\r\n                                <textarea className='input-field-form' cols={40} rows={5} type=\"text\" name=\"Announcement\" {...register(\"Announcement\", { required: \"**Announcement field is required\" })}></textarea>\r\n                            </div>\r\n                            <p className='alerts'>{errors.Announcement?.message}</p>\r\n                        </div>\r\n                        <div className='annoucement-opt'>\r\n                            <div className='faculty-radio'>\r\n                                <label className='label-data' htmlFor=\"field-Faculty\">\r\n                                    <input\r\n                                        {...register(\"aopt\", { required: \"**This field is required\" })}\r\n                                        type=\"radio\"\r\n                                        name=\"aopt\"\r\n                                        value=\"Faculty\"\r\n                                        id=\"field-Faculty\"\r\n                                    />\r\n                                    Faculty\r\n                                </label>\r\n\r\n                            </div>\r\n                            <div className='student-radio'>\r\n                            <label className='label-data' htmlFor=\"field-Student\">\r\n                                    <input\r\n                                        {...register(\"aopt\", { required: \"**This field is required\" })}\r\n                                        type=\"radio\"\r\n                                        name=\"aopt\"\r\n                                        value=\"Student\"\r\n                                        id=\"field-Student\"\r\n                                    />\r\n                                    Student\r\n                                </label>\r\n                            </div>\r\n                            <div className='both-radio'>\r\n                            <label className='label-data' htmlFor=\"field-Both\">\r\n                                    <input\r\n                                        {...register(\"aopt\", { required: \"**This field is required\" })}\r\n                                        type=\"radio\"\r\n                                        name=\"aopt\"\r\n                                        value=\"Both\"\r\n                                        id=\"field-Both\"\r\n                                    />\r\n                                    Both\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <p className='alerts'>{errors.aopt?.message}</p>\r\n                        <div className='Button-update'>\r\n                            <SubmitButton className=\"Admin-Update\" Label=\"Post\" ></SubmitButton>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className='cross1'>\r\n                    <i id=\"crossed\" className=\"fa fa-times\" onClick={handleClick} ></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : null\r\n}\r\n\r\nexport default AdminAnnoucementForm\r\n"]},"metadata":{},"sourceType":"module"}
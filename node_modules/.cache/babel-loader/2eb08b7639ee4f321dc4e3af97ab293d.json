{"ast":null,"code":"import _regeneratorRuntime from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import'boxicons';import{Paper,TableContainer,TableBody,Table,TableHead,TableCell,TableRow}from\"@material-ui/core\";import'../Admins/Admins.css';import AddFaculty from'./AddFaculty';import{useNavigate}from'react-router-dom';import EditFacultyDetails from'./EditFacultyDetails';import AuthServices from'../../../../ApiServices/AuthService';import*as actionCreators from'../../../../Service/Action/FacultyAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ViewFaculty=function ViewFaculty(){var _useSelector=useSelector(function(state){return state.toggle;}),val=_useSelector.val;var _useSelector2=useSelector(function(state){return state.faculty;}),view=_useSelector2.view,del=_useSelector2.del,add=_useSelector2.add,make=_useSelector2.make;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),flag=_useState2[0],setFlag=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),flag1=_useState4[0],setFlag1=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tableData=_useState6[0],setTableData=_useState6[1];var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){loadFaculty();},[]);useEffect(function(){loadFaculty();},[view,del,add,make]);var loadFaculty=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return AuthServices.getFaculty().then(function(res){console.log(res);setTableData(res.data);}).catch(function(e){console.log(e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function loadFaculty(){return _ref.apply(this,arguments);};}();var handleView=function handleView(id){localStorage.setItem(\"useride\",id);navigate(\"/faculty/Dashboard/profile\");console.log(id);};var handleDelete=function handleDelete(id){dispatch(actionCreators.deleteFaculty(false));console.log(id);AuthServices.DelFaculty(id).then(function(res){console.log(res);if(res){dispatch(actionCreators.deleteFaculty(true));}}).catch(function(e){console.log(e);});};var handleEditDetails=function handleEditDetails(id){console.log(id);setFlag1(true);localStorage.setItem(\"facid\",id);dispatch(actionCreators.editFaculty(false));};var handleMakeAdmin=function handleMakeAdmin(id){dispatch(actionCreators.makeAdmin(false));console.log(id);var obj={id:id};AuthServices.makeAdmin(obj).then(function(res){console.log(res);}).catch(function(e){if(e){dispatch(actionCreators.makeAdmin(true));}});};var handleFaculty=function handleFaculty(){dispatch(actionCreators.addFaculty(false));setFlag(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddFaculty,{trigger:flag,setTrigger:setFlag}),/*#__PURE__*/_jsx(EditFacultyDetails,{trigger:flag1,setTrigger:setFlag1}),/*#__PURE__*/_jsxs(\"div\",{className:\"Admin-Container \".concat(val?\"activate\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Add-Admin\",onClick:handleFaculty,children:[/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\",children:/*#__PURE__*/_jsx(\"box-icon\",{name:\"plus-circle\",color:\"#007BAB\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Add-Student-text\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Add Faculty\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Admins-info-table\",children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{width:val?\"81vw\":\"91vw\",position:\"relative\",top:\"10%\",height:\"80vh\"},children:/*#__PURE__*/_jsxs(Table,{style:{height:\"max-content\"},stickyHeader:true,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",width:\"20%\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",width:\"20%\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:\"Subject\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:tableData.map(function(data){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:data.fullname}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:data.email}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:data.subject}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Edit-details\",style:{color:\"#007BAB\",cursor:\"pointer\",fontFamily:\"'Inter', sans-serif\"},onClick:function onClick(){return handleEditDetails(data._id);},children:/*#__PURE__*/_jsx(\"h6\",{children:\"Edit details\"})})}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Edit-details\",style:{color:\"#007BAB\",cursor:\"pointer\",fontFamily:\"'Inter', sans-serif\"},onClick:function onClick(){return handleMakeAdmin(data._id);},children:/*#__PURE__*/_jsx(\"h6\",{children:\"Make Admin\"})})}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\"},align:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Edit-details\",style:{color:\"#007BAB\",cursor:\"pointer\",fontFamily:\"'Inter', sans-serif\"},onClick:function onClick(){return handleView(data._id);},children:/*#__PURE__*/_jsx(\"h6\",{children:\"View\"})})}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\"},align:\"center\",onClick:function onClick(){return handleDelete(data._id);},children:/*#__PURE__*/_jsx(\"div\",{className:\"trash-icon\",style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"box-icon\",{color:\"red\",name:\"trash-alt\"})})})]})});})})]})})})]})]});};export default ViewFaculty;","map":{"version":3,"sources":["E:/College-ERP/src/Pages/Dashboard/Admin/Faculty/ViewFaculty.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Paper","TableContainer","TableBody","Table","TableHead","TableCell","TableRow","AddFaculty","useNavigate","EditFacultyDetails","AuthServices","actionCreators","ViewFaculty","state","toggle","val","faculty","view","del","add","make","flag","setFlag","flag1","setFlag1","tableData","setTableData","dispatch","navigate","loadFaculty","getFaculty","then","res","console","log","data","catch","e","handleView","id","localStorage","setItem","handleDelete","deleteFaculty","DelFaculty","handleEditDetails","editFaculty","handleMakeAdmin","makeAdmin","obj","handleFaculty","addFaculty","width","position","top","height","border","fontFamily","map","fullname","email","subject","color","cursor","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport 'boxicons'\r\nimport { Paper, TableContainer, TableBody, Table, TableHead, TableCell, TableRow } from \"@material-ui/core\"\r\nimport '../Admins/Admins.css'\r\nimport AddFaculty from './AddFaculty';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport EditFacultyDetails from './EditFacultyDetails'\r\nimport AuthServices from '../../../../ApiServices/AuthService'\r\nimport * as actionCreators from '../../../../Service/Action/FacultyAction'\r\n\r\nconst ViewFaculty = () => {\r\n    const { val } = useSelector((state) => state.toggle);\r\n    const { view, del, add, make } = useSelector((state) => state.faculty)\r\n    const [flag, setFlag] = useState(false);\r\n    const [flag1, setFlag1] = useState(false);\r\n    const [tableData, setTableData] = useState([])\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        loadFaculty();\r\n    }, []);\r\n    useEffect(() => {\r\n        loadFaculty();\r\n    }, [view, del, add, make]);\r\n\r\n    const loadFaculty = async () => {\r\n        await AuthServices.getFaculty()\r\n            .then((res) => {\r\n                console.log(res);\r\n                setTableData(res.data);\r\n            }).catch((e) => {\r\n                console.log(e);\r\n            })\r\n    }\r\n\r\n    const handleView = (id) => {\r\n        localStorage.setItem(\"useride\", id);\r\n        navigate(\"/faculty/Dashboard/profile\");\r\n        console.log(id)\r\n    }\r\n    const handleDelete = (id) => {\r\n        dispatch(actionCreators.deleteFaculty(false));\r\n        console.log(id);\r\n        AuthServices.DelFaculty(id)\r\n            .then((res) => {\r\n                console.log(res);\r\n                if (res) {\r\n                    dispatch(actionCreators.deleteFaculty(true));\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e);\r\n            })\r\n    }\r\n    const handleEditDetails = (id) => {\r\n        console.log(id);\r\n        setFlag1(true);\r\n        localStorage.setItem(\"facid\", id)\r\n        dispatch(actionCreators.editFaculty(false));\r\n    }\r\n    const handleMakeAdmin = (id) => {\r\n        dispatch(actionCreators.makeAdmin(false));\r\n        console.log(id);\r\n        const obj = {\r\n            id: id,\r\n        }\r\n        AuthServices.makeAdmin(obj)\r\n            .then((res) => {\r\n                console.log(res);\r\n            }).catch((e) => {\r\n                if (e) {\r\n                    dispatch(actionCreators.makeAdmin(true));\r\n                }\r\n            })\r\n    }\r\n    const handleFaculty = () => {\r\n        dispatch(actionCreators.addFaculty(false))\r\n        setFlag(true);\r\n    }\r\n    return (<>\r\n        {\r\n\r\n            <AddFaculty trigger={flag} setTrigger={setFlag} />\r\n        }\r\n        {\r\n\r\n            <EditFacultyDetails trigger={flag1} setTrigger={setFlag1} />\r\n        }\r\n        <div className={`Admin-Container ${val ? \"activate\" : \"\"}`}>\r\n            <div className='Add-Admin' onClick={handleFaculty}>\r\n                <div className='plus-icon'>\r\n                    <box-icon name='plus-circle' color=\"#007BAB\" ></box-icon>\r\n                </div>\r\n                <div className='Add-Student-text'>\r\n                    <h4>Add Faculty</h4>\r\n                </div>\r\n            </div>\r\n            <div className='Admins-info-table'>\r\n                <TableContainer component={Paper} style={{\r\n                    width: val ? \"81vw\" : \"91vw\",\r\n                    position: \"relative\",\r\n                    top: \"10%\",\r\n                    height: \"80vh\"\r\n\r\n                }} >\r\n                    <Table style={{ height: \"max-content\" }} stickyHeader>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell style={{ border: \"0px solid transparent\", width: \"20%\", fontFamily: \"'Inter', sans-serif\" }} align='center'>Name</TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>Email</TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", width: \"20%\", fontFamily: \"'Inter', sans-serif\" }} align='center'>Subject</TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'></TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'></TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'></TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'></TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n\r\n                            {\r\n                                tableData.map((data) => (<>\r\n                                    <TableRow>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>{data.fullname}</TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>{data.email}</TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>{data.subject}</TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>\r\n                                            <div className='Edit-details' style={{ color: \"#007BAB\", cursor: \"pointer\", fontFamily: \"'Inter', sans-serif\" }} onClick={() => handleEditDetails(data._id)}>\r\n                                                <h6>Edit details</h6>\r\n                                            </div>\r\n                                        </TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>\r\n                                            <div className='Edit-details' style={{ color: \"#007BAB\", cursor: \"pointer\", fontFamily: \"'Inter', sans-serif\" }} onClick={() => handleMakeAdmin(data._id)}>\r\n                                                <h6>Make Admin</h6>\r\n                                            </div>\r\n                                        </TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\" }} align='center'>\r\n                                            <div className='Edit-details' style={{ color: \"#007BAB\", cursor: \"pointer\", fontFamily: \"'Inter', sans-serif\" }} onClick={() => handleView(data._id)} >\r\n                                                <h6>View</h6>\r\n                                            </div>\r\n                                        </TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\" }} align='center' onClick={() => handleDelete(data._id)}>\r\n                                            <div className='trash-icon' style={{ cursor: \"pointer\" }}>\r\n                                                <box-icon color=\"red\" name='trash-alt' />\r\n                                            </div>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                </>))\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default ViewFaculty;\r\n"]},"metadata":{},"sourceType":"module"}
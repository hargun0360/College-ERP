{"ast":null,"code":"import _objectSpread from\"E:/project1/project/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/project1/project/src/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import SubmitButton from'../../../../Components/UI/Button/Button';import{set,useForm}from'react-hook-form';import AuthService from'../../../../ApiServices/AuthService';import Toaster from'../../../../Components/UI/Toaster/Toaster';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddBatch=function AddBatch(props){var _errors$batch,_errors$Semester;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),year=_useState2[0],setYear=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var _useForm=useForm({mode:\"onTouched\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors,reset=_useForm.reset;var onSubmit=function onSubmit(data,e){if(year===null){setState(true);}else{var obj={batch:data.batch,year:year,sem:data.Semester};AuthService.AddBatch(obj).then(function(res){console.log(res);if(res){toast.success(\"Batch Created Successfully\");}}).catch(function(e){console.log(e);toast.error(\"Network error\");});}e.preventDefault();reset();};var handleClick=function handleClick(e){e.preventDefault();props.setTrigger(false);};var handleYearDropdown=function handleYearDropdown(e){setYear(e.target.value);};var years=[{id:\"1\",yr:\"First\"},{id:\"2\",yr:\"Second\"},{id:\"3\",yr:\"Third\"},{id:\"4\",yr:\"Fourth\"}];return props.trigger?/*#__PURE__*/_jsxs(\"div\",{className:\"Modal-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Batch-Form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Batch-Form-Heading\",style:{marginBottom:\"5%\"},children:/*#__PURE__*/_jsx(\"h2\",{children:\"Batch Details\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"Batch-Input\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"combine-input\",style:{marginBottom:\"3%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"Label-form\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Batch Name\",children:\"Batch Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Input-detail\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input-field-form\",size:\"34\",type:\"text\",name:\"batch\"},register(\"batch\",{required:\"**batch is required\"})))}),/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:(_errors$batch=errors.batch)===null||_errors$batch===void 0?void 0:_errors$batch.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Year-Dropdown\",style:{margin:\"3% 0%\"},children:/*#__PURE__*/_jsxs(\"select\",{id:\"year-drop-batch\",onChange:handleYearDropdown,children:[/*#__PURE__*/_jsx(\"option\",{selected:\"selected\",hidden:true,children:\"Select Year\"}),years.map(function(y){return/*#__PURE__*/_jsx(\"option\",{name:y.id,value:y.id,children:y.yr},y.id);})]})}),state?/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:\"**Year is required\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"combine-input\",style:{margin:\"5% 0%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"Label-form\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Semester\",children:\"Semester\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Input-detail\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input-field-form\",size:\"34\",type:\"text\",name:\"Semester\"},register(\"Semester\",{required:\"**Semester is required\",maxLength:{value:1,message:\"**Semester cannot exceed more than 1 number\"},pattern:{value:/^[1-8]{1}$/i,message:\"**This is not a valid semester\"}})))}),/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:(_errors$Semester=errors.Semester)===null||_errors$Semester===void 0?void 0:_errors$Semester.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Add-Batch-btn\",children:/*#__PURE__*/_jsx(SubmitButton,{className:\"Add-batch-button\",Label:\"Add Batch\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cross-icon\",children:/*#__PURE__*/_jsx(\"i\",{id:\"crossed\",className:\"fa fa-times\",onClick:handleClick})})]}),/*#__PURE__*/_jsx(Toaster,{})]}):null;};export default AddBatch;","map":{"version":3,"sources":["E:/project1/project/src/src/Pages/Dashboard/Admin/Batches/AddBatch.js"],"names":["React","useState","useEffect","SubmitButton","set","useForm","AuthService","Toaster","toast","AddBatch","props","year","setYear","state","setState","mode","register","handleSubmit","errors","formState","reset","onSubmit","data","e","obj","batch","sem","Semester","then","res","console","log","success","catch","error","preventDefault","handleClick","setTrigger","handleYearDropdown","target","value","years","id","yr","trigger","marginBottom","required","message","margin","map","y","maxLength","pattern"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport SubmitButton from '../../../../Components/UI/Button/Button'\r\nimport { set, useForm } from 'react-hook-form'\r\nimport AuthService from '../../../../ApiServices/AuthService';\r\nimport Toaster from '../../../../Components/UI/Toaster/Toaster'\r\nimport {toast} from 'react-toastify'\r\nconst AddBatch = (props) => {\r\n    const [year, setYear] = useState(null);\r\n    const [state, setState] = useState(false);\r\n    const { register, handleSubmit, formState: { errors }, reset } = useForm({\r\n        mode: \"onTouched\",\r\n    });\r\n    const onSubmit = (data, e) => {\r\n        if(year===null){\r\n            setState(true);\r\n        }else{\r\n            const obj = {\r\n                batch:data.batch,\r\n                year:year,\r\n                sem:data.Semester,\r\n            }\r\n            AuthService.AddBatch(obj)\r\n            .then((res)=>{\r\n                console.log(res);\r\n                if(res){\r\n                    toast.success(\"Batch Created Successfully\");\r\n                }\r\n                \r\n            }).catch((e)=>{\r\n                console.log(e);\r\n                toast.error(\"Network error\");\r\n            })\r\n        }\r\n        e.preventDefault();\r\n        reset();\r\n    }\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        props.setTrigger(false);\r\n    }\r\n    const handleYearDropdown = (e) => {\r\n        setYear(e.target.value);\r\n    }\r\n    const years = [{ id: \"1\", yr: \"First\" }, { id: \"2\", yr: \"Second\" }, { id: \"3\", yr: \"Third\" }, { id: \"4\", yr: \"Fourth\" }];\r\n\r\n    return (props.trigger) ? (\r\n        <div className='Modal-box'>\r\n            <div className='Batch-Form'>\r\n                <div className='Batch-Form-Heading' style={{marginBottom:\"5%\"}}>\r\n                    <h2>Batch Details</h2>\r\n                </div>\r\n                <div>\r\n                    <form className='Batch-Input' onSubmit={handleSubmit(onSubmit)}>\r\n                        <div className='combine-input' style={{marginBottom:\"3%\"}}>\r\n                            <div className='Label-form'>\r\n                                <label htmlFor=\"Batch Name\">\r\n                                    Batch Name\r\n                                </label>\r\n                            </div>\r\n                            <div className='Input-detail'>\r\n                                <input className='input-field-form' size={\"34\"} type=\"text\" name=\"batch\" {...register(\"batch\", { required: \"**batch is required\", })}></input>\r\n                            </div>\r\n                            <p className='alerts'>{errors.batch?.message}</p>\r\n                        </div>\r\n                        <div className='Year-Dropdown' style={{margin:\"3% 0%\"}}>\r\n                            <select id=\"year-drop-batch\" onChange={handleYearDropdown}>\r\n                                <option selected=\"selected\" hidden>Select Year</option>\r\n                                {\r\n                                    years.map((y) => (\r\n                                        <option key={y.id} name={y.id} value={y.id}>{y.yr}</option>\r\n                                    ))\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        {state ? <p className='alerts'>**Year is required</p> : null}\r\n                        <div className='combine-input' style={{margin:\"5% 0%\"}}>\r\n                            <div className='Label-form'>\r\n                                <label htmlFor=\"Semester\">\r\n                                    Semester\r\n                                </label>\r\n                            </div>\r\n                            <div className='Input-detail'>\r\n                                <input className='input-field-form' size={\"34\"} type=\"text\" name=\"Semester\" {...register(\"Semester\", { required: \"**Semester is required\", maxLength: { value: 1, message: \"**Semester cannot exceed more than 1 number\" }, pattern: { value: /^[1-8]{1}$/i, message: \"**This is not a valid semester\" } })}></input>\r\n                            </div>\r\n                            <p className='alerts'>{errors.Semester?.message}</p>\r\n                        </div>\r\n                        <div className='Add-Batch-btn'>\r\n                            <SubmitButton className=\"Add-batch-button\" Label=\"Add Batch\" ></SubmitButton>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className='cross-icon'>\r\n                    <i id=\"crossed\" className=\"fa fa-times\" onClick={handleClick} ></i>\r\n                </div>\r\n            </div>\r\n            <Toaster />\r\n        </div>\r\n    ) : null;\r\n}\r\n\r\nexport default AddBatch\r\n"]},"metadata":{},"sourceType":"module"}
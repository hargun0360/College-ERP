{"ast":null,"code":"import _regeneratorRuntime from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/College-ERP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import'boxicons';import{Paper,TableContainer,TableBody,Table,TableHead,TableCell,TableRow}from\"@material-ui/core\";import'./Admins.css';import AddAdmin from'./AddAdmin';import AuthService from'../../../../ApiServices/AuthService';import*as actionCreators from'../../../../Service/Action/FacultyAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminsData=function AdminsData(){var _useSelector=useSelector(function(state){return state.toggle;}),val=_useSelector.val;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),flag=_useState2[0],setFlag=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tableData=_useState4[0],setTableData=_useState4[1];var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.faculty;}),del=_useSelector2.del;var adminId=localStorage.getItem(\"userid\");var handleDelete=function handleDelete(id){if(adminId===id){alert(\"You can't delete Yourself\");}else{dispatch(actionCreators.deleteAdmin(false));console.log(id);AuthService.DelAdmins(id).then(function(res){console.log(res);if(res){dispatch(actionCreators.deleteAdmin(true));}}).catch(function(e){console.log(e);});}};useEffect(function(){loadAdmins();},[del]);useEffect(function(){loadAdmins();},[]);var loadAdmins=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return AuthService.getAdmins().then(function(res){console.log(res);setTableData(res.data);}).catch(function(e){console.log(e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function loadAdmins(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"Admin-Container \".concat(val?\"activate\":\"\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"Admins-info-table\",children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{width:val?\"81vw\":\"91vw\",position:\"relative\",top:\"5%\",height:\"90vh\"},children:/*#__PURE__*/_jsxs(Table,{style:{height:\"max-content\"},stickyHeader:true,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",width:\"20%\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:\"Subject\"}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:tableData.map(function(data){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:data.fullname}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:data.email}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\",fontFamily:\"'Inter', sans-serif\"},align:\"center\",children:data.subject}),/*#__PURE__*/_jsx(TableCell,{style:{border:\"0px solid transparent\"},align:\"center\",onClick:function onClick(){return handleDelete(data._id);},children:/*#__PURE__*/_jsx(\"div\",{className:\"trash-icon\",style:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"box-icon\",{color:\"red\",name:\"trash-alt\"})})})]})});})})]})})})})});};export default AdminsData;","map":{"version":3,"sources":["E:/College-ERP/src/Pages/Dashboard/Admin/Admins/AdminsData.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Paper","TableContainer","TableBody","Table","TableHead","TableCell","TableRow","AddAdmin","AuthService","actionCreators","AdminsData","state","toggle","val","flag","setFlag","tableData","setTableData","dispatch","faculty","del","adminId","localStorage","getItem","handleDelete","id","alert","deleteAdmin","console","log","DelAdmins","then","res","catch","e","loadAdmins","getAdmins","data","width","position","top","height","border","fontFamily","map","fullname","email","subject","_id","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport 'boxicons'\r\nimport { Paper, TableContainer, TableBody, Table, TableHead, TableCell, TableRow } from \"@material-ui/core\"\r\nimport './Admins.css'\r\nimport AddAdmin from './AddAdmin'\r\nimport AuthService from '../../../../ApiServices/AuthService';\r\nimport * as actionCreators from '../../../../Service/Action/FacultyAction'\r\nconst AdminsData = () => {\r\n    const { val } = useSelector((state) => state.toggle);\r\n    const [flag, setFlag] = useState(false);\r\n    const [tableData, setTableData] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const { del } = useSelector((state) => state.faculty)\r\n    const adminId = localStorage.getItem(\"userid\");\r\n    const handleDelete = (id) => {\r\n        if (adminId === id) {\r\n            alert(\"You can't delete Yourself\");\r\n        }\r\n        else {\r\n            dispatch(actionCreators.deleteAdmin(false));\r\n            console.log(id);\r\n            AuthService.DelAdmins(id)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res) {\r\n                        dispatch(actionCreators.deleteAdmin(true));\r\n                    }\r\n                }).catch((e) => {\r\n                    console.log(e);\r\n                })\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        loadAdmins();\r\n    }, [del]);\r\n    useEffect(() => {\r\n        loadAdmins();\r\n    }, []);\r\n\r\n    const loadAdmins = async () => {\r\n        await AuthService.getAdmins()\r\n            .then((res) => {\r\n                console.log(res);\r\n                setTableData(res.data)\r\n            }).catch((e) => {\r\n                console.log(e);\r\n            })\r\n\r\n    }\r\n\r\n    return (<>\r\n        <div className={`Admin-Container ${val ? \"activate\" : \"\"}`}>\r\n            <div className='Admins-info-table'>\r\n                <TableContainer component={Paper} style={{\r\n                    width: val ? \"81vw\" : \"91vw\",\r\n                    position: \"relative\",\r\n                    top: \"5%\",\r\n                    height: \"90vh\"\r\n\r\n                }} >\r\n                    <Table style={{ height: \"max-content\" }} stickyHeader>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell style={{ border: \"0px solid transparent\", width: \"20%\", fontFamily: \"'Inter', sans-serif\" }} align='center'>Name</TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>Email</TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>Subject</TableCell>\r\n                                <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'></TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n\r\n                            {\r\n                                tableData.map((data) => (<>\r\n                                    <TableRow>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>{data.fullname}</TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>{data.email}</TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\", fontFamily: \"'Inter', sans-serif\" }} align='center'>{data.subject}</TableCell>\r\n                                        <TableCell style={{ border: \"0px solid transparent\" }} align='center' onClick={() => handleDelete(data._id)}>\r\n                                            <div className='trash-icon' style={{ cursor: \"pointer\" }}>\r\n                                                <box-icon color=\"red\" name='trash-alt' />\r\n                                            </div>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                </>))\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </div>\r\n    </>);\r\n};\r\n\r\nexport default AdminsData;\r\n"]},"metadata":{},"sourceType":"module"}
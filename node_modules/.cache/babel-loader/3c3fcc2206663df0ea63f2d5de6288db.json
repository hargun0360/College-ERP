{"ast":null,"code":"import _objectSpread from\"E:/project1/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/project1/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Image from'../../../Components/UI/Images/Image';import SubmitButton from'../../../Components/UI/Button/Button';import{useForm}from'react-hook-form';import illustrate from'../../../Assets/Imagesused/resetpass.png';import'../Login/Login.css';import\"./CreatePass.css\";import\"../ChangePassword/ChangePass.css\";import*as Yup from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import{useNavigate}from'react-router-dom';import{useSelector}from'react-redux';import AuthService from'../../../ApiServices/AuthService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePass=function CreatePass(){var _errors$password,_errors$cpassword;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggle1=_useState2[0],setToggle1=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggle2=_useState4[0],setToggle2=_useState4[1];var mystate1=useSelector(function(state){return state.emailReducer.user;});var mystate2=useSelector(function(state){return state.emailReducer.email;});var formSchema=Yup.object().shape({password:Yup.string().required(\"Password is required\").min(8,\"Password length should be at least 4 characters\").max(14,\"Password cannot exceed more than 12 characters\"),cpassword:Yup.string().required(\"Confirm Password is required\").oneOf([Yup.ref(\"password\")],\"Passwords do not match\")});var _useForm=useForm({mode:\"onTouched\",resolver:yupResolver(formSchema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors,reset=_useForm.reset;var onSubmit=function onSubmit(data,e){e.preventDefault();console.log(data);var obj={email:mystate2,password:data.password,cpassword:data.cpassword};console.log(obj);console.log(mystate1);console.log(mystate2);AuthService.resetpass(mystate1,obj).then(function(res){if(res.status===200){alert(\"saved successfully\");console.log(res);navigate(\"/Login\");}}).catch(function(error){console.log(error);console.log(error.response);if(error.response.status===500){alert(\"Time out!\");}else if(error.response.status===422){alert(\"pasword do not match\");}else{navigate(\"/Page404\");}});reset();};return/*#__PURE__*/_jsxs(\"div\",{className:\"Container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"illustration-box\",children:/*#__PURE__*/_jsx(Image,{imge:illustrate})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"Login-Box\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"Heading1\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"Login-Heading\",children:\"Create Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"type-box1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Label1\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input1\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"passlock\",className:\"fa fa-lock icon\"}),/*#__PURE__*/_jsx(\"i\",{id:\"showpass\",className:\"fa fa-eye icon\",onClick:function onClick(){setToggle1(!toggle1);}}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input-field\",size:\"44\",type:toggle1?\"text\":\"password\",placeholder:\"Password\",name:\"password\"},register(\"password\")))]}),/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message}),/*#__PURE__*/_jsx(\"div\",{className:\"Label2\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input2\",children:[/*#__PURE__*/_jsx(\"i\",{id:\"passlock\",className:\"fa fa-lock icon\"}),/*#__PURE__*/_jsx(\"i\",{id:\"showpass\",className:\"fa fa-eye icon\",onClick:function onClick(){setToggle2(!toggle2);}}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input-field\",size:\"44\",type:toggle2?\"text\":\"password\",placeholder:\"Password\",name:\"cpassword\"},register(\"cpassword\")))]}),/*#__PURE__*/_jsx(\"p\",{className:\"alerts\",children:(_errors$cpassword=errors.cpassword)===null||_errors$cpassword===void 0?void 0:_errors$cpassword.message}),/*#__PURE__*/_jsx(\"div\",{className:\"Button\",children:/*#__PURE__*/_jsx(SubmitButton,{className:\"Login-Button4\",Label:\"Proceed\"})})]})]})})]});};export default CreatePass;","map":{"version":3,"sources":["E:/project1/project/src/Pages/Auth/CreatePassword/Createpass.js"],"names":["React","useState","Image","SubmitButton","useForm","illustrate","Yup","yupResolver","useNavigate","useSelector","AuthService","CreatePass","navigate","toggle1","setToggle1","toggle2","setToggle2","mystate1","state","emailReducer","user","mystate2","email","formSchema","object","shape","password","string","required","min","max","cpassword","oneOf","ref","mode","resolver","register","handleSubmit","errors","formState","reset","onSubmit","data","e","preventDefault","console","log","obj","resetpass","then","res","status","alert","catch","error","response","message"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Image from '../../../Components/UI/Images/Image'\r\nimport SubmitButton from '../../../Components/UI/Button/Button'\r\nimport { useForm } from 'react-hook-form'\r\nimport illustrate from '../../../Assets/Imagesused/resetpass.png'\r\nimport '../Login/Login.css'\r\nimport \"./CreatePass.css\"\r\nimport \"../ChangePassword/ChangePass.css\"\r\nimport * as Yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport  {  useNavigate  } from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\nimport AuthService from '../../../ApiServices/AuthService'\r\nconst CreatePass = () => {\r\n    const navigate = useNavigate();\r\n    const [toggle1, setToggle1] = useState(false);\r\n    const [toggle2, setToggle2] = useState(false);\r\n    const mystate1 = useSelector((state)=>state.emailReducer.user)\r\n    const mystate2 = useSelector((state)=>state.emailReducer.email)\r\n    const formSchema = Yup.object().shape({\r\n        password: Yup.string()\r\n          .required(\"Password is required\")\r\n          .min(8, \"Password length should be at least 4 characters\")\r\n          .max(14, \"Password cannot exceed more than 12 characters\"),\r\n        cpassword: Yup.string()\r\n          .required(\"Confirm Password is required\")\r\n          .oneOf([Yup.ref(\"password\")], \"Passwords do not match\")\r\n      });\r\n   \r\n    const { register, handleSubmit, formState: { errors }, reset } = useForm({\r\n        mode: \"onTouched\",\r\n        resolver: yupResolver(formSchema)\r\n      });\r\n    const onSubmit = (data,e) => {\r\n        e.preventDefault();\r\n        console.log(data);\r\n        let obj={\r\n            email:mystate2,\r\n            password:data.password,\r\n            cpassword:data.cpassword\r\n        }\r\n        console.log(obj);\r\n        console.log(mystate1);\r\n        console.log(mystate2);\r\n        AuthService.resetpass(mystate1,obj)\r\n        .then((res)=>{\r\n            if(res.status===200){\r\n                alert(\"saved successfully\");\r\n                console.log(res);\r\n                navigate(\"/Login\");\r\n            }\r\n            \r\n        }).catch((error)=>{\r\n            console.log(error);\r\n            console.log(error.response);\r\n            if(error.response.status === 500){\r\n                alert(\"Time out!\");\r\n            }\r\n            else if(error.response.status === 422){\r\n                alert(\"pasword do not match\");\r\n            }\r\n            else{\r\n                navigate(\"/Page404\");\r\n            }\r\n        })\r\n            reset();\r\n}\r\n   \r\n\r\n    return (\r\n        <div className='Container'>\r\n            <div className='illustration-box'>\r\n                <Image imge={illustrate}/>\r\n            </div>\r\n            <div>\r\n                <form className='Login-Box' onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className='Heading1'>\r\n                        <h1 className='Login-Heading'>Create Password</h1>\r\n                    </div>\r\n                    \r\n                    <div className='type-box1'>\r\n                        <div className='Label1'>\r\n                            <label >\r\n                             Password\r\n                            </label>\r\n                        </div>\r\n                        <div className='input1'>\r\n                            <i id=\"passlock\" className=\"fa fa-lock icon\"></i>\r\n                            <i id=\"showpass\" className=\"fa fa-eye icon\" onClick={() => { setToggle1(!toggle1) }}></i>\r\n                            <input className='input-field' size={\"44\"} type={toggle1 ? \"text\" : \"password\"} placeholder='Password' name=\"password\" {...register(\"password\")}></input>\r\n                        </div>\r\n                        <p className='alerts'>{errors.password?.message}</p>\r\n                        <div className='Label2'>\r\n                            <label >\r\n                               Confirm Password\r\n                            </label>\r\n                        </div>\r\n                        <div className='input2'>\r\n                            <i id=\"passlock\" className=\"fa fa-lock icon\"></i>\r\n                            <i id=\"showpass\" className=\"fa fa-eye icon\" onClick={() => { setToggle2(!toggle2) }}></i>\r\n                            <input className='input-field' size={\"44\"} type={toggle2 ? \"text\" : \"password\"} placeholder='Password' name=\"cpassword\" {...register(\"cpassword\")}></input>\r\n                        </div>\r\n                       <p className='alerts'>{errors.cpassword?.message}</p>\r\n                        <div className='Button'>\r\n                            <SubmitButton className=\"Login-Button4\" Label=\"Proceed\"  ></SubmitButton>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </form>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePass\r\n"]},"metadata":{},"sourceType":"module"}